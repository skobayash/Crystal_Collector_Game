<!DOCTYPE html>
<html lang="en-us">

<head>
    <meta charset="UTF-8">
    <title>Rick and Morty Collector</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.0/css/bootstrap.min.css" integrity="sha384-9gVQ4dYFwwWSjIDZnLEWnxCjeSWFphJiwGPXr1jddIhOegiu1FwO5qRGvFXOdJZ4" crossorigin="anonymous">
    <scriptÂ src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

<style>  
.jumbotron {
    background-image: url("assets/images/showme.png");
    background-size: 100%;
    min-height: 50%;
    background-repeat: no-repeat;
    background-position: center;
    background-size: cover;
}

#feedbackImage {
    float: right;
    margin-right: 15px;
}

.images {
    margin: 15px;
}

#feedbackImage {
    margin-left: 200px;
    float: right;
}


    
</style> 
</head>

<body>

    <div class="container">


        <div class="jumbotron jumbotron-fluid">
            <div class="container">
                <h1 class="display-4">Rick and Morty Collector</h1>
                <p>Instructions:</p>
                <p>
                    You will be given a random number at the start of the game.
                </p>
                <p>
                    Rick, Morty, Jerry, and Mr. PoopyButthole each carry a certain number of points 
                    that change each round. The value each character holds is hidden until you 
                    click on them. By clicking on them, their respective number of points will be 
                    added to your total score. 
                </p>
                <p>
                    You win the game by matching your total score to the target number 
                    (which changes each round). You lose if your score exceeds the target number.
                </p>
            </div>
        </div>
        
        <div class="row">
            <div class="col-md-3">
                <p class="lead">Target Number: <span id="targetNumber">0</span></p>
                <p class="lead">Your total score is: <span id="currentScore">0</span></p>
            </div>
            <div class="col-md-2">
                <p class="lead" id="wins">Wins: <span id="wins">0</span></p>
                <p class="lead">Losses: <span id="losses">0</span></p>
            </div>
        </div>
        <div class="row">
            <div id="charRow">
            </div>
            <div class="row">
                <div class="col-md-2" id="feedbackImage"></div>
            </div>
            <div class="row">
                <p><span id="feedback"></span></p>
            </div>
        </div>
    </br> 


    </div>


<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>

<script type="text/javascript">


//  Global variables
var targetNumber;
var currentScore = 0;
var wins = 0;
var losses = 0;


var charArray = ['assets/images/Mortybebb.png', 'assets/images/rick.png', 'assets/images/jerry.png', 'assets/images/poopy.png'];

function gameReset(max, min) {
    targetNumber = Math.floor(Math.random() * (max - min + 1)+min);
    $("#targetNumber").html(targetNumber);
    console.log(targetNumber);
    currentScore = 0;
    $("#currentScore").html(currentScore);
}

gameReset(120, 19);

var valueGenerator = Math.floor(Math.random() * 12)+1;

for (var i = 0; i < charArray.length; i++) {
    var charImg = $("<img>");
    charImg.addClass("images");
    charImg.attr("src", charArray[i]);
    charImg.attr('data-charValue', Math.floor(Math.random()*12)+2);
    $('#charRow').append(charImg);
}

$(".images").on('click', function(){

    var charValue = ($(this).attr("data-charValue"));
    charValue = parseInt(charValue);
    currentScore += charValue;
    $("#currentScore").html(currentScore);

    if (currentScore === targetNumber) {
        $("#feedbackImage").html("<img src='assets/images/winner.gif'/>");
        wins++;
        $("#wins").html(wins);
        gameReset(120, 19);
    } else if (currentScore >= targetNumber) {
        $("#feedbackImage").html("<img src='assets/images/loser.gif'/>");
        losses++;
        $("#losses").html(losses);
        gameReset(120, 19);
    }


    function resetGame() {
        targetNumber = Math.floor(Math.random() * (max - min + 1)+min);
        $("#targetNumber").html(targetNumber);
        console.log(targetNumber);

        currentScore = 0;
        $("#currentScore").html(currentScore);
    }


})



</script>
    
</body>

</html>